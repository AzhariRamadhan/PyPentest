import sys
try:
    import nmap
except:
    sys.exit("[!] Please install nmap lib: pip install python-nmap")
    
if len(sys.argv) !=3:
    sys.exit("Please provide two arguments the firts being the targets the second the ports")
ports = str(sys.argv[2])
addrs = str(sys.argv[1])

scanner = nmap.PortScanner()
scanner.scan(addrs, ports)
for host in scanner.all_hosts():
    if not scanner[host].hostname():
        print("the host's IP address is %s and it's hostname was not found") % (host)
    else:
        print("the host's IP address is %s and it's hostname is %s") % (host, scanner[host].hostname())